webpackJsonp([11],{168:function(e,t,a){a(796);var n=a(5)(a(601),a(746),"data-v-d7785b10",null);e.exports=n.exports},346:function(e,t,a){"use strict";var n=a(125),s=a.n(n),i=a(126),o=a.n(i),r=function(){function e(){s()(this,e)}return o()(e,[{key:"transGetParams",value:function(e){var t="?",a=0;for(var n in e)t+=(0===a?"":"&")+n+"="+e[n],++a;return t}},{key:"getQueryValue",value:function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),a=location.href.split("?")[1]||"",n=a.match(t);return null!=n?decodeURI(n[2]):null}},{key:"getMutiQueryValue",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a={};return t.forEach(function(t,n){a[t]=e.getQueryValue(t)}),a}},{key:"getRootPath",value:function(e){var t=window.document.location.href,a=window.document.location.pathname,n=t.indexOf(a);return t.substring(0,n)+"/"+e+"/"}},{key:"isAPP",value:function(e){var t,a=navigator.userAgent,n=(navigator.appVersion,a.indexOf("Android")>-1||a.indexOf("Linux")>-1),s=!!a.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/);return"Android"===e&&(t=n),"IOS"===e&&(t=s),!e&&(t=!s&&!n),t}},{key:"rad",value:function(e){return e*Math.PI/180}},{key:"getDistance",value:function(e,t,a,n){var s=this.rad(e),i=this.rad(a),o=s-i,r=this.rad(t)-this.rad(n),u=2*Math.asin(Math.sqrt(Math.pow(Math.sin(o/2),2)+Math.cos(s)*Math.cos(i)*Math.pow(Math.sin(r/2),2)));return u*=6378.137,u=Math.round(1e4*u)/1e4}},{key:"siledelate",value:function(){for(var e=null,t=document.querySelectorAll(".siledelate"),a=0;a<t.length;a++){var n,s,i,o,r,u;t[a].addEventListener("touchstart",function(t){n=t.changedTouches[0].pageX,s=t.changedTouches[0].pageY,r=!0,u=!0,e&&setTimeout(function(){e.className="list siledelate"},200)}),t[a].addEventListener("touchmove",function(t){i=t.changedTouches[0].pageX,o=t.changedTouches[0].pageY,r&&Math.abs(i-n)-Math.abs(o-s)>0&&(t.stopPropagation(),i-n>10&&(t.preventDefault(),this.className="list siledelate"),n-i>10&&(t.preventDefault(),this.className="list siledelate swipeleft",e=this),u=!1),u&&Math.abs(i-n)-Math.abs(o-s)<0&&(r=!1)})}}}]),e}();t.a=new r},597:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"route-select",props:{list:{type:Array,required:!0},selectItem:{type:String,required:!0}},data:function(){return{choose:""}},watch:{},methods:{saveSelect:function(){this.$emit("changeValue",this.choose)}},mounted:function(){this.choose=this.selectItem}}},598:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"route-title",props:{title:{type:String,required:!0}},data:function(){return{}},watch:{},methods:{},mounted:function(){}}},601:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(8),s=(a.n(n),a(346),a(825)),i=a.n(s),o=a(824),r=a.n(o);t.default={name:"index",components:{routeTitle:i.a,routeSelect:r.a},created:function(){end_time=(new Date).getTime(),console.log("index加载时间：",end_time-start_time,"ms")},beforeDestroy:function(){clearInterval(this.timer)},data:function(){return{phone:"",wxUserId:"",routeOne:"路线一",routeTwo:"路线二",routeThree:"路线三",chooseRoute:0,planId:0,routeList:[],manageList:[],hackReset:!0}},directives:{},watch:{},methods:{init:function(){this.getManageList(),this.getPlanList()},getManageList:function(){var e=this;this.http.get("getManageList",{phone:this.phone,wxUserId:this.wxUserId},function(t){3==t.data.length?e.manageList=t.data:2==t.data.length?1==t.data[0].planSeq&&2==t.data[1].planSeq?(e.manageList=t.data,e.manageList.push({planSeq:3,planCode:""})):1==t.data[0].planSeq&&3==t.data[1].planSeq?(e.manageList.push(t.data[0]),e.manageList.push({planSeq:2,planCode:""}),e.manageList.push(t.data[1])):2==t.data[0].planSeq&&3==t.data[1].planSeq&&(e.manageList.push({planSeq:1,planCode:""}),e.manageList.push(t.data[0]),e.manageList.push(t.data[1])):1==t.data.length?1==t.data[0].planSeq?(e.manageList=t.data,e.manageList.push({planSeq:2,planCode:""}),e.manageList.push({planSeq:3,planCode:""})):2==t.data[0].planSeq?(e.manageList.push({planSeq:1,planCode:""}),e.manageList.push(t.data[0]),e.manageList.push({planSeq:3,planCode:""})):3==t.data[0].planSeq&&(e.manageList.push({planSeq:1,planCode:""}),e.manageList.push({planSeq:2,planCode:""}),e.manageList.push(t.data[0])):(e.manageList.push({planSeq:1,planCode:""}),e.manageList.push({planSeq:2,planCode:""}),e.manageList.push({planSeq:3,planCode:""}))})},getPlanList:function(){var e=this;this.http.get("getPlanList",function(t){if(t.data)for(var a=0;a<t.data.length;a++)e.routeList.push({value:t.data[a].planCode,label:t.data[a].description})})},chooseRouteChange:function(e,t){this.chooseRoute=e,this.planId=t},changeFirstValue:function(e){var t=this,s={id:this.planId,phone:this.phone,planCode:e,planSeq:this.chooseRoute,wxUserId:this.wxUserId};this.http.post("planManage",s,function(e){e.success||(a.i(n.Toast)({message:e.errMsg}),t.hackReset=!1,t.$nextTick(function(){t.hackReset=!0}),t.getManageList())})}},activated:function(){$(document).attr("title","试乘试驾路线")},beforeMount:function(){$(document).attr("title","试乘试驾路线")},mounted:function(){var e=this;return this.phone=this.$route.query.mobile,this.wxUserId=this.$route.query.userid,this.$nextTick(function(){return e.init()})}}},624:function(e,t,a){t=e.exports=a(3)(!1),t.push([e.i,".route-main[data-v-28419652]{font-family:PingFangSC-Regular;margin:30px 0 10px}.route-main .title[data-v-28419652]{font-size:14px;color:#fff;background-color:#b45f1a;padding:1px 10px}",""])},658:function(e,t,a){t=e.exports=a(3)(!1),t.push([e.i,".route-select-main[data-v-ccb18ae6]{font-family:PingFangSC-Regular;margin:20px 0 5px}",""])},661:function(e,t,a){t=e.exports=a(3)(!1),t.push([e.i,".main[data-v-d7785b10]{width:90%;margin-left:5%}",""])},704:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"route-main"},[a("span",{staticClass:"title"},[e._v(e._s(e.title))])])},staticRenderFns:[]}},743:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"route-select-main"},[a("n3-select",{staticStyle:{width:"100%"},attrs:{cancelled:!1,placeholder:"请选择",options:e.list},on:{change:function(t){e.saveSelect()}},model:{value:e.choose,callback:function(t){e.choose=t},expression:"choose"}})],1)},staticRenderFns:[]}},746:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"main"},e._l(e.manageList,function(t,n){return e.hackReset?a("div",{key:n,on:{click:function(a){e.chooseRouteChange(t.planSeq,t.id)}}},[a("route-title",{attrs:{title:1==t.planSeq?e.routeOne:2==t.planSeq?e.routeTwo:e.routeThree}}),e._v(" "),a("route-select",{staticClass:"sales-director-route",attrs:{list:e.routeList,selectItem:t.planCode},on:{changeValue:e.changeFirstValue}})],1):e._e()}))},staticRenderFns:[]}},759:function(e,t,a){var n=a(624);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a(6)("74f0a199",n,!0)},793:function(e,t,a){var n=a(658);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a(6)("e9dc600a",n,!0)},796:function(e,t,a){var n=a(661);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a(6)("0619c50a",n,!0)},824:function(e,t,a){a(793);var n=a(5)(a(597),a(743),"data-v-ccb18ae6",null);e.exports=n.exports},825:function(e,t,a){a(759);var n=a(5)(a(598),a(704),"data-v-28419652",null);e.exports=n.exports}});