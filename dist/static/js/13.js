webpackJsonp([13],{154:function(e,t,a){a(771),a(772);var n=a(5)(a(577),a(718),"data-v-5b03ba87",null);e.exports=n.exports},346:function(e,t,a){"use strict";var n=a(125),i=a.n(n),r=a(126),o=a.n(r),s=function(){function e(){i()(this,e)}return o()(e,[{key:"transGetParams",value:function(e){var t="?",a=0;for(var n in e)t+=(0===a?"":"&")+n+"="+e[n],++a;return t}},{key:"getQueryValue",value:function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),a=location.href.split("?")[1]||"",n=a.match(t);return null!=n?decodeURI(n[2]):null}},{key:"getMutiQueryValue",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a={};return t.forEach(function(t,n){a[t]=e.getQueryValue(t)}),a}},{key:"getRootPath",value:function(e){var t=window.document.location.href,a=window.document.location.pathname,n=t.indexOf(a);return t.substring(0,n)+"/"+e+"/"}},{key:"isAPP",value:function(e){var t,a=navigator.userAgent,n=(navigator.appVersion,a.indexOf("Android")>-1||a.indexOf("Linux")>-1),i=!!a.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/);return"Android"===e&&(t=n),"IOS"===e&&(t=i),!e&&(t=!i&&!n),t}},{key:"rad",value:function(e){return e*Math.PI/180}},{key:"getDistance",value:function(e,t,a,n){var i=this.rad(e),r=this.rad(a),o=i-r,s=this.rad(t)-this.rad(n),d=2*Math.asin(Math.sqrt(Math.pow(Math.sin(o/2),2)+Math.cos(i)*Math.cos(r)*Math.pow(Math.sin(s/2),2)));return d*=6378.137,d=Math.round(1e4*d)/1e4}},{key:"siledelate",value:function(){for(var e=null,t=document.querySelectorAll(".siledelate"),a=0;a<t.length;a++){var n,i,r,o,s,d;t[a].addEventListener("touchstart",function(t){n=t.changedTouches[0].pageX,i=t.changedTouches[0].pageY,s=!0,d=!0,e&&setTimeout(function(){e.className="list siledelate"},200)}),t[a].addEventListener("touchmove",function(t){r=t.changedTouches[0].pageX,o=t.changedTouches[0].pageY,s&&Math.abs(r-n)-Math.abs(o-i)>0&&(t.stopPropagation(),r-n>10&&(t.preventDefault(),this.className="list siledelate"),n-r>10&&(t.preventDefault(),this.className="list siledelate swipeleft",e=this),d=!1),d&&Math.abs(r-n)-Math.abs(o-i)<0&&(s=!1)})}}}]),e}();t.a=new s},427:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(8);a.n(n);t.default={data:function(){return{}},props:{label:String,value:String},methods:{},watch:{},mounted:function(){}}},457:function(e,t,a){t=e.exports=a(3)(!1),t.push([e.i,"[data-v-62e225de] ::-ms-reveal,input[data-v-62e225de]::-ms-clear,input[type=text][data-v-62e225de]::-ms-clear{display:none}input[data-v-62e225de]{border:1px solid #e5e5e5;border-radius:3px;-webkit-appearance:none;outline:none}.wninput[data-v-62e225de]{margin:15px 0;height:40px;line-height:40px}.wninput .label[data-v-62e225de]{display:inline-block;width:26%;font-size:16px;color:#000;text-align:left;font-weight:400;padding:0}.wninput .label span[data-v-62e225de]{font-weight:700}.wninput .label span .red[data-v-62e225de]{color:red}.wninput .label .label2[data-v-62e225de]{float:left;margin-top:5px}.wninput .label3[data-v-62e225de]{margin-top:0;float:left}.wninput .input[data-v-62e225de]{width:74%;padding-left:5px;float:right;border:1px solid rgba(150,160,180,.3);height:40px;line-height:40px}.wninput .error1[data-v-62e225de]{border:1px solid red}.wninput .error[data-v-62e225de]{font-size:12px;line-height:10px;width:74%;margin-left:26%}",""])},487:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wninput"},[a("div",{class:e.label.length>4?"label label3":"label"},[a("span",{staticClass:"label1"},[e._v(e._s(e.label.substring(0,4)))]),e._v(" "),a("span",{class:e.label.length>4?"label2":"label1",style:6==e.label.length?"margin-left: 12px;":""},[e._v(e._s(e.label.substring(4))+" "),a("span",{staticClass:"red"},[e._v("*")])])]),a("div",{staticClass:"input"},[e._v(e._s(e.value))])])},staticRenderFns:[]}},505:function(e,t,a){var n=a(457);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a(6)("4c948486",n,!0)},532:function(e,t,a){a(505);var n=a(5)(a(427),a(487),"data-v-62e225de",null);e.exports=n.exports},577:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(8),i=(a.n(n),a(532)),r=a.n(i),o=a(346);t.default={components:{cnInput:r.a},data:function(){return{driveInfo:{lastName:"",sex:"",testDriveDate:"",testDriveOrderNo:"",phone:"",isTestDrive:"",isTestRide:"",testDriveUrl:"",testDriveRouteName:"",testDriveCarName:"",tastingEngineerName:"",startTime:"",startMileage:"",endTime:"",endMileage:""}}},methods:{init:function(){var e=this;this.http.get("todayTestDriveDetail",{id:o.a.getQueryValue("id")},function(t){"1"==t.resultCode?t.data&&(e.driveInfo=t.data):a.i(n.Toast)({message:t.errMsg})})},driver:function(){var e=this,t=this;n.MessageBox.prompt("请确认结束试驾").then(function(i){var r=i.value;i.action;if(r<e.driveInfo.startMileage)return void a.i(n.Toast)({message:"结束试驾里程数需大于开始试驾里程数"});var s={wxPhone:o.a.getQueryValue("wxPhone"),wxUserId:o.a.getQueryValue("wxUserId"),testDriveOrderNo:e.driveInfo.testDriveOrderNo,endMileage:r};e.http.post("endTestDriveOrder",s,function(e){"1"==e.resultCode?e.data&&(t.driveInfo.endTime=t.formatDate(e.data.endTime),t.driveInfo.endMileage=e.data.endMileage,setTimeout(function(){t.$router.push("/qrCode?qrCodeUrl="+encodeURIComponent(e.data.qrCodeUrl))},4e3)):a.i(n.Toast)({message:e.errMsg})})})},formatDate:function(e){e=new Date(e);var t=function(e){return e<10?"0"+e:e},a=e.getFullYear()+"-"+t(e.getMonth()+1)+"-"+t(e.getDate())+" "+t(e.getHours())+":"+t(e.getMinutes()),n=e.getFullYear()+"-"+t(e.getMonth()+1)+"-"+t(e.getDate()),i=(t(e.getHours()),t(e.getMinutes()),["星期日","星期一","星期二","星期三","星期四","星期五","星期六"]),r=new Date(Date.parse(n.replace(/-/g,"/")));r.getDay();return""+a}},watch:{},beforeMount:function(){$(document).attr("title","试乘试驾登记")},mounted:function(){this.init()}}},636:function(e,t,a){t=e.exports=a(3)(!1),t.push([e.i,".register-container{background:#fff!important}",""])},637:function(e,t,a){t=e.exports=a(3)(!1),t.push([e.i,".endform .name-font-style[data-v-5b03ba87]{font-family:PingFangSC-Medium;font-size:18px;color:#b45f1a;letter-spacing:0;font-weight:600}.endform .time-font-style[data-v-5b03ba87]{margin-top:23px;font-family:PingFangSC-Medium;font-size:15px;color:#323232;letter-spacing:-.48px}.endform .phone-font-style[data-v-5b03ba87]{margin-top:12px;font-family:PingFangSC-Medium;font-size:15px;color:#323232;letter-spacing:-.48px}.endform .driverinfo .clearfix[data-v-5b03ba87]{overflow:auto;z-index:1}.endform .driverinfo .order[data-v-5b03ba87]{font-size:10px;color:#323232;text-align:right;padding-bottom:8px;border-bottom:1px solid #e2e2e2}.endform .driverinfo .driver[data-v-5b03ba87]{margin-top:26px;font-size:18px;color:#b45f1a;letter-spacing:0}.endform .driverinfo .driver-other[data-v-5b03ba87]{margin-top:13px;font-family:PingFangSC-Regular;font-size:15px;color:#7f7f7f;letter-spacing:-.48px}.endform .driverinfo .driver-other span[data-v-5b03ba87]{color:#141414}.endform .begindriver .bgdriver[data-v-5b03ba87]{padding:10px 0;background:#b45f1a;border:1px solid #b45f1a;border-radius:3px;font-size:17px;color:#fff;text-align:center}",""])},718:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"endform"},[a("div",{staticStyle:{padding:"20px"}},[a("div",{staticClass:"name-font-style"},[e._v(e._s(e.driveInfo.lastName)+" "+e._s(e.driveInfo.sex))]),e._v(" "),a("div",{staticClass:"time-font-style"},[e._v("试驾时间："+e._s(e.driveInfo.testDriveDate))]),e._v(" "),a("a",{attrs:{href:"tel:"+e.driveInfo.phone}},[a("div",{staticClass:"phone-font-style"},[e._v("联系电话："),a("span",{staticStyle:{color:"#0BABFE"}},[e._v(e._s(e.driveInfo.phone))])])])]),e._v(" "),a("div",{staticClass:"driverinfo",staticStyle:{"border-top":"10px solid #F5F5F5",padding:"20px"}},[a("div",{staticClass:"order clearfix"},[e._v("表单编码："+e._s(e.driveInfo.testDriveOrderNo))]),e._v(" "),a("div",{staticClass:"driver"},[e._v(e._s(e.driveInfo.isTestDrive?e.driveInfo.isTestDrive:e.driveInfo.isTestRide))]),e._v(" "),a("div",{staticClass:"driver-other",staticStyle:{"margin-top":"23px"}},[e._v("上传试驾协议： "),a("span",[e._v(e._s(e.driveInfo.testDriveUrl?"已上传":"未上传"))])]),e._v(" "),a("div",{staticClass:"driver-other"},[e._v("试驾车："),a("span",[e._v(e._s(e.driveInfo.testDriveCarName))])]),e._v(" "),a("div",{staticClass:"driver-other"},[e._v("试驾路线："),a("span",[e._v(e._s(e.driveInfo.testDriveRouteName))])]),e._v(" "),a("div",{staticClass:"driver-other"},[e._v("品鉴工程师："),a("span",[e._v(e._s(e.driveInfo.tastingEngineerName))])])]),e._v(" "),a("div",{staticClass:"begindriver",staticStyle:{"border-top":"10px solid #F5F5F5",padding:"20px"}},[a("div",{staticClass:"bgdriver",on:{click:e.driver}},[a("span",[e._v("结束试驾")])]),e._v(" "),a("cn-input",{attrs:{label:"开始试驾时间"},model:{value:e.driveInfo.startTime,callback:function(t){e.$set(e.driveInfo,"startTime",t)},expression:"driveInfo.startTime"}}),e._v(" "),a("cn-input",{attrs:{label:"开始试驾里程数"},model:{value:e.driveInfo.startMileage,callback:function(t){e.$set(e.driveInfo,"startMileage",t)},expression:"driveInfo.startMileage"}}),e._v(" "),a("cn-input",{attrs:{label:"结束试驾时间"},model:{value:e.driveInfo.endTime,callback:function(t){e.$set(e.driveInfo,"endTime",t)},expression:"driveInfo.endTime"}}),e._v(" "),a("cn-input",{attrs:{label:"结束试驾里程数"},model:{value:e.driveInfo.endMileage,callback:function(t){e.$set(e.driveInfo,"endMileage",t)},expression:"driveInfo.endMileage"}})],1)])},staticRenderFns:[]}},771:function(e,t,a){var n=a(636);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a(6)("27f5006a",n,!0)},772:function(e,t,a){var n=a(637);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a(6)("efb52418",n,!0)}});